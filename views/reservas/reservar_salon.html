{% extends "base.html" %}
{% block title %}Reservar Salón Comunal{% endblock %}

{% block content %}
<h2>Reservar Salón Comunal</h2>

{% with messages = get_flashed_messages(with_categories=True) %}
  {% if messages %}
    {% for category, message in messages %}
      <p class="{{ category }}">{{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="POST">
    <label for="fecha">Fecha:</label>
    <input type="date" name="fecha" required>

    <label for="hora_inicio">Hora de Inicio:</label>
    <input type="time" name="hora_inicio" required>

    <label for="hora_fin">Hora de Fin:</label>
    <input type="time" name="hora_fin" required>

    <button type="submit">Reservar</button>
</form>

<h3>Reservas Existentes</h3>
<table>
    <tr>
        <th>Fecha</th>
        <th>Hora Inicio</th>
        <th>Hora Fin</th>
        <th>Estado</th>
    </tr>
    {% for reserva in reservas %}
    <tr>
        <td>{{ reserva.fecha }}</td>
        <td>{{ reserva.hora_inicio }}</td>
        <td>{{ reserva.hora_fin }}</td>
        <td>{{ reserva.estado }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
